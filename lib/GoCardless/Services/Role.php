<?php
/**
  * WARNING: Do not edit by hand, this file was generated by Crank:
  *
  * https://github.com/gocardless/crank
  */

namespace GoCardless\Services;

/**
  *  Roles
  *
  * @method \GoCardless\Core\ListResponse list() list(array $options = array(), array $headers = array()) gets a non-paginated list of models given finder options.
  *
  *  <a name="insufficient_permissions"></a>Roles represent a set of permissions
  *  that may be granted to a user. The permissions are specified at the
  *  resource-type level, and can be `full_access` or `read_only`. If a
  *  resource-type is not included that role's users will have no access to
  *  resources of that type, and will receive an `insufficient_permissions`
  *  error when trying to use those endpoints.
  *  
  *  A role's `permissions`
  *  attribute is used to set/show the permissions for a role and it's key/value
  *  pairs are restricted to the below:
  *  
  *  <dl>
  *   
  *  <dt><p><code>resource</code></p></dt>
  *    <dd><p>One of:</p>
  *     
  *  <ul>
  *        <li><code>customers</code></li>
  *       
  *  <li><code>customer_bank_accounts</code></li>
  *       
  *  <li><code>mandates</code></li>
  *        <li><code>payments</code></li>
 
  *  *        <li><code>payouts</code></li>
  *       
  *  <li><code>creditors</code></li>
  *       
  *  <li><code>creditor_bank_accounts</code></li>
  *       
  *  <li><code>roles</code></li>
  *        <li><code>users</code></li>
  *     
  *    <li><code>events</code></li>
  *        <li><code>api_keys</code></li>
 
  *  *        <li><code>subscriptions</code></li>
  *       
  *  <li><code>redirect_flows</code></li>
  *      </ul>
  *    </dd>
  * 
  *  </dl>
  *  
  *  <dl>
  *    <dt><p><code>access</code></p></dt>
  *   
  *  <dd><p>One of:</p>
  *      <ul>
  *        <li><code>full_access</code>:
  *  read and write all records of this type</li>
  *       
  *  <li><code>read_only</code>: list and show endpoints available, but not
  *  create, update, delete, or actions</li>
  *      </ul>
  *    </dd>
  * 
  *  </dl>
  *  
  */
class Role extends Base
{
  
  /**
    *  Create a role
    *
    *  Create a role with set access permissions
    *
    *  Example URL: /roles
    *  @return Role
    *  @throws \GoCardless\Core\Error\GoCardlessError GoCardless API or server error, subclasses thereof.
    *  @throws \GoCardless\Core\Error\HttpError PHP Curl transport layer-level errors.
    **/
    public function create($params = array(), $headers = array())
    {
        return $this->make_request('post', '/roles', $params);
    }

  /**
    *  List roles
    *
    *  List all existing roles
    *
    *  Example URL: /roles
    *  @return \GoCardless\Core\ListResponse
    *  @throws \GoCardless\Core\Error\GoCardlessError GoCardless API or server error, subclasses thereof.
    *  @throws \GoCardless\Core\Error\HttpError PHP Curl transport layer-level errors.
    **/
    public function do_list($params = array(), $headers = array())
    {
        return $this->make_request('get', '/roles', $params);
    }

  /**
    *  Get a single role
    *
    *  Retrieve all details for a single role
    *
    *  Example URL: /roles/:identity
    *
    *  @param identity:  Unique identifier, beginning with "RO"
    *  @return Role
    *  @throws \GoCardless\Core\Error\GoCardlessError GoCardless API or server error, subclasses thereof.
    *  @throws \GoCardless\Core\Error\HttpError PHP Curl transport layer-level errors.
    **/
    public function get($identity, $params = array(), $headers = array())
    {
        $path = $this->sub_url('/roles/:identity', array(
            'identity' => $identity
        ));

        return $this->make_request('get', $path, $params, $headers);
    }

  /**
    *  Update a role
    *
    *  Updates a role object. Supports all of the fields supported when creating
    *  a role.
    *
    *  Example URL: /roles/:identity
    *
    *  @param identity:  Unique identifier, beginning with "RO"
    *  @return Role
    *  @throws \GoCardless\Core\Error\GoCardlessError GoCardless API or server error, subclasses thereof.
    *  @throws \GoCardless\Core\Error\HttpError PHP Curl transport layer-level errors.
    **/
    public function update($identity, $params = array(), $headers = array())
    {
        $path = $this->sub_url('/roles/:identity', array(
            'identity' => $identity
        ));

        return $this->make_request('put', $path, $params, $headers);
    }

  /**
    *  Disable a role
    *
    *  Disables a role
    *
    *  Example URL: /roles/:identity/actions/disable
    *
    *  @param identity:  Unique identifier, beginning with "RO"
    *  @return Role
    *  @throws \GoCardless\Core\Error\GoCardlessError GoCardless API or server error, subclasses thereof.
    *  @throws \GoCardless\Core\Error\HttpError PHP Curl transport layer-level errors.
    **/
    public function disable($identity, $params = array(), $headers = array())
    {
        $path = $this->sub_url('/roles/:identity/actions/disable', array(
            'identity' => $identity
        ));

        return $this->make_request('post', $path, $params, $headers);
    }



  /**
    *  List roles
    *
    *  List all existing roles
    *
    *  Example URL: /roles\
    *  @return \GoCardless\Core\Paginator
    **/
    public function all($list_max, $options = array(), $headers = array())
    {
        return new \GoCardless\Core\Paginator($this, $list_max, $this->do_list($options), $options, $headers);
    }


   /**
    * Get the resource loading class.
    * Used internally to send http requests.
    *
    * @return string
    */
    protected function resourceClass()
    {
        return '\GoCardless\Resources\Role';
    }

  /**
    *  Get the key the response object is enclosed in in JSON.
    *  Used internally to wrap and unwrap http requests.
    *
    *  @return string
    */
    protected function envelopeKey()
    {
        return 'roles';
    }
}
